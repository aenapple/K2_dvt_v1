/**********************************************************************************/
/**
 *  @file DcFan.cpp
 *  @brief Driver for fan
 *
 *  @copyright (c) 2023 VCycene, Inc. All rights reserved. \n
 */
/**********************************************************************************/
#include <DcFan.hpp>


/**********************************************************************************/



/**********************************************************************************/
//==================================================================================
/**
*  Todo: function description..
*
*  @return ... .
*/
void TDcFan::Init()
{
	this->pwm = 50;
	this->pwmStarted = true;

	this->Stop();
}
//=== end Init =====================================================================

//==================================================================================
/**
*  Todo: function description..
*
*  @return ... .
*/
bool TDcFan::GetFault()
{
	return(this->error);
}
//=== end GetFault =================================================================

//==================================================================================
/**
*  Todo: function description..
*
*  @return ... .
*/
u8 TDcFan::GetPwm()
{
	return(this->pwm);
}
//=== end GetPwm ===================================================================

//==================================================================================
/**
*  Todo: function description..
*
*  @return ... .
*/
u16 TDcFan::GetRpm()
{
	return(this->rpm);
}
//=== end GetRpm ===================================================================

//==================================================================================
/**
*  Todo: function description..
*
*  @return ... .
*/
void TDcFan::SetRpm(u16 rpm)
{
	this->rpm = rpm;
}
//=== end SetRpm ===================================================================

//==================================================================================
/**
*  Todo: function description..
*
*  @return ... .
*/
void TDcFan::Start()
{
	this->StartPwm(99);  // forward with max speed
}
//=== end Start ====================================================================

//==================================================================================
/**
*  Todo: function description..
*
*  @return ... .
*/
void TDcFan::Start(u8 pwm)
{
	this->StartPwm(pwm);
}
//=== end Start ====================================================================

//==================================================================================
/**
*  Todo: function description..
*
*  @return ... .
*/
void TDcFan::Stop()
{
//	this->StopPwm();
	this->StartPwm(0);
}
//=== end Stop =====================================================================

//==================================================================================
/**
*  Todo: function description..
*
*  @return ... .
*/
void TDcFan::IncrementCounterRpm()
{
	this->counterRpm++;
}
//=== end IncrementCounterRpm ======================================================

//==================================================================================
/**
*  Todo: function description..
*
*  @return ... .
*/
void TDcFan::ResetCounterRpm()
{
	this->counterRpm = 0;
}
//=== end ResetCounterRpm ==========================================================

//==================================================================================
/**
*  Todo: function description..
*
*  @return ... .
*/
u16 TDcFan::GetCounterRpm()
{
	return this->counterRpm;
}
//=== end GetCounterRpm ============================================================

/**********************************************************************************/
